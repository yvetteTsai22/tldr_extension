(()=>{function e(){const e=document.querySelector("article")||document.querySelector('[role="article"]')||document.querySelector(".article")||document.querySelector(".post")||document.querySelector(".content");if(!e)return document.body.innerText;const t=e.cloneNode(!0);return t.querySelectorAll("script, style, nav, footer, header, aside, .comments, .sidebar").forEach(e=>e.remove()),t.innerText.trim()}function t(){const t=e();chrome.runtime.sendMessage({type:"ANALYZE_CONTENT",content:t});const n=document.createElement("style");n.textContent="\n        .tldr-highlight {\n            background-color: #fff3cd;\n            cursor: pointer;\n            border-bottom: 1px dotted #ffc107;\n        }\n        .tldr-highlight:hover {\n            background-color: #ffe69c;\n        }\n    ",document.head.appendChild(n),function(){const e=document.body.split(/\s+/),t=new Set(["important","key","significant","major","critical","essential","crucial","vital","fundamental","primary"]);e.forEach(e=>{if(t.has(e.toLowerCase())){const t=document.createElement("span");t.className="tldr-highlight",t.textContent=e,t.title="Click for definition",e.parentNode.replaceChild(t,e)}})}()}chrome.runtime.onMessage.addListener((t,n,o)=>{"GET_CONTENT"===t.type&&o({content:e()})}),"complete"===document.readyState?t():window.addEventListener("load",t)})();